(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/react-seeklogo.com.2bc32987.svg"},33:function(e,t,a){e.exports=a(65)},41:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),c=a.n(o),l=a(69),i=a(70),s=a(67),u=a(71),m=a(21),p=a.n(m),h=a(29),d=a(6),b=a(7),g=a(10),v=a(8),f=a(9),E=(a(41),a(13)),j=a.n(E),O=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={category:[]},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,j()({url:"https://test-app-a-level.herokuapp.com/category",method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},params:{page:1,size:50}});case 4:a=e.sent,this.setState({category:a.data.category}),console.log("response",a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("e",e.t0.response);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.category;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",{className:"foo"},"Edit ",r.a.createElement("code",null,"src/App.js")," and save to reload."),r.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")),e.map(function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("p",null,e.name))}))}}]),t}(n.Component),k=a(14),_=a(15),y=a(12),w=a(68),N=function(e){var t=e.label,a=e.inputType,n=e.touch,o=e.valid,c=e.config,l=null;switch(a){case"textarea":l=r.a.createElement("textarea",Object.assign({className:n&&o?"input-box__error":"input-box__input"},c));break;case"select":l=r.a.createElement("select",Object.assign({className:n&&o?"input-box__error":"input-box__input"},c),c.option.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.name)}));break;default:l=r.a.createElement("input",Object.assign({className:o&&n?"input-box__error":"input-box__input"},c))}return r.a.createElement("div",{className:"input-box"},r.a.createElement("label",{className:"input-box__label"},t),l)},x=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={singIn:{email:{value:"",config:{type:"email",name:"email",placeholder:"Enter your email"},valid:!1,touch:!1,validation:{required:!0}},password:{value:"",config:{type:"password",name:"password",placeholder:"Enter your password"},valid:!1,touch:!1,validation:{required:!0,minLength:5}}},isValid:!1,token:null},a.submit=function(e){e.preventDefault(),console.log(e.target.disabled);var t=a.state.singIn,n=Object.keys(t).reduce(function(e,a){return Object(_.a)({},e,Object(k.a)({},a,t[a].value))},{});console.log("values",n),j()({url:"https://test-app-a-level.herokuapp.com/auth/login",method:"POST",headers:{"Content-Type":"application/json"},data:n}).then(function(e){a.setState({token:e.data.token}),localStorage.setItem("token",e.data.token)}).catch(function(e){return console.log(e.response)})},a.validator=function(e,t){var a=!0;return t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),a},a.change=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e){var t=a.validator(r,e.singIn[n].validation),o=Object.keys(e.singIn).some(function(t){return!e.singIn[t].valid});return{singIn:Object(_.a)({},e.singIn,Object(k.a)({},n,Object(_.a)({},e.singIn[n],{value:r,touch:!0,valid:t}))),isValid:o&&t}})},a.btnGoogle=function(e){console.log(Object(y.a)(Object(y.a)(a))),j()({url:"https://test-app-a-level.herokuapp.com/auth/google",method:"GET"}).then(function(e){return console.log(e)}).catch(function(e){return console.warn(e.response)})},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");e&&this.setState({token:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.singIn,n=t.isValid,o=t.token;return console.log(!n),o?r.a.createElement(w.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("form",{className:"auth-box__sign-in-form",onSubmit:this.submit},Object.keys(a).map(function(t){return r.a.createElement(N,{key:t,touch:a[t].touch,valid:!a[t].valid,config:Object(_.a)({},a[t].config,{value:a[t].value,onChange:e.change})})}),r.a.createElement("button",{disabled:!n,type:"submit"},"Sign in")),r.a.createElement("button",{onClick:this.btnGoogle},"sigi in with google"))}}]),t}(n.Component),I=Object(u.a)(x),S=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"SignUp")}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={switchForm:!1},a.switchForm=function(){return a.setState(function(e){return{switchForm:!e.switchForm}})},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.state.switchForm;return r.a.createElement("div",{className:"auth-box"},r.a.createElement("div",{className:"auth-box__wrapper"},e?r.a.createElement(S,null):r.a.createElement(I,null),r.a.createElement("button",{onClick:this.switchForm},"Don't have account?")))}}]),t}(n.Component),C=a(66),F=a(31),T=a.n(F),D=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__logo-box"},r.a.createElement("img",{src:T.a,alt:"logo",className:"header__logo"})),r.a.createElement("nav",{className:"header__nav"},r.a.createElement("ul",{className:"header__list"},r.a.createElement("li",{className:"header__item"},r.a.createElement(C.a,{className:"header__link",to:"/"},"Home")),r.a.createElement("li",{className:"header__item"},r.a.createElement(C.a,{className:"header__link",to:"/auth"},"Auth")))))},G=a(32),L=function(e){var t=e.component,a=Object(G.a)(e,["component"]);return r.a.createElement(s.a,Object.assign({},a,{render:function(e){var a=localStorage.getItem("token");return console.log("token",a),a?r.a.createElement(t,e):r.a.createElement(w.a,{to:"auth"})}}))},q=Object(u.a)(function(){return r.a.createElement("div",{className:"container"},r.a.createElement(D,null),r.a.createElement(i.a,null,r.a.createElement(L,{exact:!0,path:"/",component:O}),r.a.createElement(s.a,{exact:!0,path:"/auth",component:A})))});a(64);c.a.render(r.a.createElement(l.a,null,r.a.createElement(q,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.54869087.chunk.js.map